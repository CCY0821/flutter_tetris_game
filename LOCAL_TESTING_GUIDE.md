# 🎮 Flutter Tetris - Marathon 模式本地測試指南

## 🚀 快速開始

### 1. 啟動本地伺服器
```bash
# 方法一：使用提供的 Node.js 伺服器（推薦）
node simple_server.js

# 方法二：使用 Python HTTP 伺服器
cd build/web
python -m http.server 3000
```

### 2. 開啟遊戲
- 伺服器啟動後，在瀏覽器中訪問：**http://localhost:3000**
- 或者打開 `test_marathon_features.html` 頁面查看詳細測試指南

## 🏆 Marathon 模式測試重點

### ✅ 核心功能檢查
1. **模式切換**
   - 右側面板找到 "MODE" 按鈕
   - 點擊可在 MARATHON ↔ CLASSIC 之間切換
   - 切換後 UI 應該相應變化

2. **Marathon 資訊面板**
   - 顯示當前關卡（01, 02, 03...）
   - 顯示總消除行數
   - 顯示當前關卡進度條
   - 顯示重力值（G）和掉落間隔（ms）
   - 顯示速度描述（慢速、中速、快速、極速、光速）

3. **升級機制**
   - 每消除 10 行方塊應該升級一關
   - 升級後進度條重置
   - 速度明顯變快

### 📊 速度曲線驗證

| 關卡 | 預期重力值 | 預期掉落間隔 | 預期描述 | 測試重點 |
|------|------------|--------------|----------|----------|
| 01   | 0.02G      | ~60秒        | 慢速     | 初始體驗，非常慢 |
| 05   | 0.10G      | ~10秒        | 慢速     | 漸漸變快 |
| 10   | 0.40G      | 2.5秒        | 中速     | 明顯加速 |
| 15   | 0.90G      | 1.1秒        | 中速     | 需要快速反應 |
| 19   | 10.00G     | 100ms        | 極速     | 挑戰級別 |
| 20+  | 20.00G     | 50ms         | 光速     | 專家級 |

### 🎮 遊戲控制測試

#### 基本控制
- **← →** 左右移動
- **↑** 順時針旋轉  
- **Z** 逆時針旋轉
- **↓** 軟降（加速掉落但不鎖定）
- **空白鍵** 硬降（瞬間落地並鎖定）

#### 系統控制
- **P** 暫停/恢復
- **R** 重新開始
- **G** 切換 Ghost Piece

#### 高級功能
- **SRS 旋轉系統**：支援牆踢（Wall Kick）
- **Ghost Piece**：顯示方塊落地位置預覽
- **多重控制器**：鍵盤、手把、觸控同時支援

### 🎯 測試場景

#### 快速測試流程
1. **啟動遊戲** → 確認 Marathon 模式已開啟
2. **觀察初始狀態** → Level 01, 進度 0/10, 速度很慢
3. **快速消除** → 使用硬降（空白鍵）加速遊戲
4. **製造 Tetris** → 同時消除4行來快速升級
5. **觀察升級** → 關卡變化，速度明顯提升
6. **模式切換** → 切換到 Classic 模式比較差異

#### 深度測試項目
- **長期遊戲**：玩到關卡 5-10 觀察速度變化
- **UI 響應性**：進度條、數值更新是否即時
- **性能表現**：高速模式下是否流暢
- **音效同步**：消除音效、背景音樂是否正常

## 🔧 疑難排解

### 常見問題

**Q: 遊戲載入很慢或空白頁面？**
- A: 確認伺服器正在運行（`node simple_server.js`）
- A: 檢查瀏覽器開發者工具的錯誤訊息
- A: 嘗試重新整理頁面

**Q: Marathon 面板沒有顯示？**
- A: 確認右側 MODE 按鈕顯示 "MARATHON"
- A: 如果顯示 "CLASSIC"，點擊切換到 Marathon 模式

**Q: 速度沒有變化？**
- A: 確認已消除足夠行數（每10行升級）
- A: 檢查關卡是否有增加
- A: 低關卡速度變化較細微，建議測試到關卡5+

**Q: 控制不響應？**
- A: 確認遊戲獲得焦點（點擊遊戲區域）
- A: 檢查是否在暫停狀態
- A: 嘗試重新開始遊戲

## 📈 測試數據記錄

建議記錄以下測試數據：

```
測試時間：[記錄時間]
瀏覽器：[Chrome/Firefox/Safari/Edge]
測試關卡：[達到的最高關卡]
發現問題：[列出任何異常行為]
UI表現：[良好/一般/需改進]
性能表現：[流暢/輕微延遲/卡頓]
整體評價：[1-10分]
```

## 🎊 完成測試後

測試完成後：
1. 按 `Ctrl+C` 停止伺服器
2. 關閉瀏覽器分頁
3. 整理測試結果和反饋
4. 報告任何發現的問題或改進建議

---

🎮 **享受測試過程！** Marathon 模式提供了真正專業級的俄羅斯方塊體驗。

🚀 **技術支援：** 如遇問題，請檢查控制台輸出或聯繫開發團隊。